# GODOT ENGINE 4.2 - GDExtension C++ - Visual Studio 2022 - MSVC

![01_logo](https://github.com/godotengine/godot-cpp/assets/12847027/4b515778-d07a-4cb4-a618-e13af3d7dba7)

# Downloadable template project

This is a visual studio community version stable template preconfigured with godot engine GDExtension C++ so you just have to download the repository and easily use GDExtension C++ with Godot Engine.
As the precompiled libraries are already in the project, you do not need to download SCONS, nor python since the DLL is generated by Visual Studio, however make sure you have the C++ and .net compilers installed in visual studio. I leave a screenshot of the necessary tools so you just have to press F5 and run Godot Engine with everything included

## Instalar Visual Studio 2022 community en Windows 11:

Note: install the stable version, unstable versions may not work
Overlap options
* .net desktop development
* desktop development with c++
* game development with c++

![Visual_studio_compiler_gdnative](https://gitlab.com/kone9/godot-engine-4.2-template-gdextension-with-vscode-windows-11/-/raw/main/01_instalacionVisualStudio.png)


# -----------------------------------------------------------------------------------------

# ----->This is the configuration of this project.<-----

The configuration of the entire project is documented below, but don't worry, you don't need to do it, just download the project. However, if you want to know how I did it, I leave it documented below.

To generate the visual studio compatible static libraries that are saved in godot-cpp/bin use the following scons command.

## lib debug:
`scons platform=windows custom_api_file="gdextension\extension_api.json" target=template_debug optimize=debug debug_symbols=yes`

## lib release
`scons platform=windows custom_api_file="gdextension\extension_api.json" target=template_release optimize=speed debug_symbols=yes
`

Note that extension_api.json in godot-cpp 4.2 is located inside gdextension\extension_api.json.

Pay attention to the location of "extension_api.json"

![Captura de pantalla 2023-12-04 142631](https://github.com/godotengine/godot-cpp/assets/12847027/f9ab7d5a-fd47-42cf-b933-ab0365b2152c)


# Then in the project properties you have to add the following settings
![Captura de pantalla 2023-12-04 115832](https://github.com/godotengine/godot-cpp/assets/12847027/821b2ca9-88b2-477c-9889-e38e563b5541)

# General

* directory goes to the location where the dll is compiled, that is, inside the game project directory, this is the dll that works with GDextension
* add this name to the dll that exits visual studio libgdexample.windows.template_debug.x86_64
* Dynamic Library (.dll) configuration type
* C++ Language Standart C++ 17

![Captura de pantalla 2023-12-04 133531](https://github.com/godotengine/godot-cpp/assets/12847027/bc5b347f-5a67-4b39-9c10-ef12f87db8f6)

# Debugging

* Command "You have to add the path to the Godot executable"
* Working Directory "You have to add the path to the Godot project, by default the main scene will be executed"
* Command Arguments Alternatively you can add command arguments such as "--editor" to run the editor instead of the game within visual studio, you can create different configurations within the editor.

![debugging](https://github.com/godotengine/godot-cpp/assets/12847027/0b6033ec-a1db-45de-a3f4-ed4cf2b9eaf3)

![debugging_02](https://github.com/godotengine/godot-cpp/assets/12847027/2c8ab9da-5411-45ae-a26b-7b9f445c45d1)


# VCC Directories

* Include Directories the paths go to the bookstore
* Library Directoria path to the preconfigured binding that is in Godot-cpp/bin
![03_configuration](https://github.com/godotengine/godot-cpp/assets/12847027/4832cbc8-9ec9-45f0-a536-7087330aaf8c)
![04_configuration](https://github.com/godotengine/godot-cpp/assets/12847027/15a7019f-51bb-4ade-966d-7a4315556f79)
![05_configuration](https://github.com/godotengine/godot-cpp/assets/12847027/78899e72-3b58-42af-8aa9-cb722d45bfdc)


# C/C++

## Preprocessor

* in preprocessor definitions add "WIN64" "TYPED_METHOD_BIND"  "NOMINMAX" " _CONSOLE"

![Captura de pantalla 2023-12-04 140752](https://github.com/godotengine/godot-cpp/assets/12847027/3fc29c41-8e2e-4a73-9690-b0a9cab4f2e6)
![Captura de pantalla 2023-12-04 140904](https://github.com/godotengine/godot-cpp/assets/12847027/e96b72f6-573b-4849-8b5f-4cfbb420d623)


## Code Generation

* Runtime Library Multi-treaded (/MT)
![Captura de pantalla 2023-12-04 141342](https://github.com/godotengine/godot-cpp/assets/12847027/ff0ec031-79a9-46ea-9d2c-2729bc5eb84e)


# Linker

## General

* "Additional Library Directories" Again you add the Library Directoria path to the preconfigured binding that is in Godot-cpp/bin
![07_configuration](https://github.com/godotengine/godot-cpp/assets/12847027/1cbc9d53-bc87-48f6-891f-218c0c309674)
![08_configuration](https://github.com/godotengine/godot-cpp/assets/12847027/291dab2f-199c-4b54-938f-e39f66ff9f35)

## Input

* "Additional Dependencies" Here you have to add the name of the binding generated from godot-cpp that is located within the godot-cpp/bin folder
![09_configuration](https://github.com/godotengine/godot-cpp/assets/12847027/8a1e63f8-ba6a-43b5-b4a0-26423cabc41c)
![10_configuration](https://github.com/godotengine/godot-cpp/assets/12847027/86515a1a-afdc-4758-98b6-02843fcefc2c)
 


# Don't forget the "gdexample.gdextension" that goes inside the godot project and generates that link between gdextension and godot. Anyway, check the official GDextension documentation.

https://docs.godotengine.org/en/stable/tutorials/scripting/gdextension/gdextension_cpp_example.html

![Captura de pantalla 2023-12-04 144410](https://github.com/godotengine/godot-cpp/assets/12847027/c652f865-1796-4f12-be06-741059ced850)



